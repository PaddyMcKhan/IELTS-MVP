{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/lordp/IELTS-MVP/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":["React","cn","Card","t0","$","_c","$i","Symbol","for","className","props","t1","t2","CardHeader","CardTitle","CardDescription","CardAction","CardContent","CardFooter"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 371, "column": 0}, "map": {"version":3,"sources":["file:///Users/lordp/IELTS-MVP/src/lib/taskLabels.ts"],"sourcesContent":["// lib/taskLabels.ts\n\nexport const TASK_LABELS: Record<string, string> = {\n  \"a-t2-education\": \"Academic Task 2 — Education\",\n  \"a-t2-environment\": \"Academic Task 2 — Environment\",\n  \"a-t2-technology\": \"Academic Task 2 — Technology & Society\",\n  \"g-t1-letter-neighbour\": \"General Task 1 — Letter to a Neighbour\",\n  \"g-t2-work-life\": \"General Task 2 — Work–Life Balance\",\n  // add more as your dataset grows\n};\n\nexport function formatTaskLabel(taskId: string | null | undefined): string {\n  if (!taskId) return \"Unknown task\";\n  return TASK_LABELS[taskId] ?? taskId; // fallback = raw ID\n}\n\n"],"names":[],"mappings":"AAAA,oBAAoB;;;;;;;AAEb,MAAM,cAAsC;IACjD,kBAAkB;IAClB,oBAAoB;IACpB,mBAAmB;IACnB,yBAAyB;IACzB,kBAAkB;AAEpB;AAEO,SAAS,gBAAgB,MAAiC;IAC/D,IAAI,CAAC,QAAQ,OAAO;IACpB,OAAO,WAAW,CAAC,OAAO,IAAI,QAAQ,oBAAoB;AAC5D","debugId":null}},
    {"offset": {"line": 396, "column": 0}, "map": {"version":3,"sources":["file:///Users/lordp/IELTS-MVP/src/app/attempts/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from \"react\";\nimport { useSession } from \"next-auth/react\";\nimport Link from \"next/link\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { formatTaskLabel } from \"@/lib/taskLabels\";\n\ntype AttemptRow = {\n  id: string;\n  user_id: string | null;\n  question_id: string;\n  essay_text: string;\n  score_json: any;\n  created_at: string;\n};\n\nexport default function AttemptsPage() {\n  const { data: session } = useSession();\n  const userId = (session?.user as any)?.id ?? null;\n\n  const [attempts, setAttempts] = useState<AttemptRow[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  async function loadAttempts() {\n    setLoading(true);\n    setError(null);\n    try {\n      const q = userId ? `?userId=${encodeURIComponent(userId)}` : \"\";\n      const res = await fetch(`/api/attempts${q}`);\n      const json = await res.json();\n\n      if (!res.ok || json.error) {\n        setError(json.error || \"Failed to load attempts\");\n        return;\n      }\n\n      setAttempts(json.attempts ?? []);\n    } catch (err) {\n      console.error(\"Failed to load attempts:\", err);\n      setError(\"Failed to load attempts\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    loadAttempts();\n  }, [userId]);\n\n  return (\n    <main className=\"min-h-dvh bg-white text-slate-900 p-6\">\n      <div className=\"mx-auto max-w-3xl space-y-6\">\n        {/* Header */}\n        <header className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-2xl font-semibold\">My IELTS Attempts</h1>\n            <p className=\"text-xs text-slate-500 mt-1\">\n              A history of your recent writing submissions with AI scores.\n            </p>\n          </div>\n        </header>\n\n        {/* Controls */}\n        <div className=\"flex items-center justify-between\">\n          <p className=\"text-xs text-slate-500\">\n            Showing the 20 most recent attempts.\n          </p>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={loadAttempts}\n            disabled={loading}\n          >\n            {loading ? \"Refreshing…\" : \"Refresh\"}\n          </Button>\n        </div>\n\n        {/* Error */}\n        {error && (\n          <Card className=\"p-3 border-red-200 bg-red-50 text-xs text-red-700\">\n            {error}\n          </Card>\n        )}\n\n        {/* Empty state */}\n        {!loading && !error && attempts.length === 0 && (\n          <Card className=\"p-4 text-sm text-slate-600\">\n            No attempts found yet. Go back to the{\" \"}\n            <Link href=\"/\" className=\"underline\">\n              practice page\n            </Link>{\" \"}\n            and submit an essay to see it appear here.\n          </Card>\n        )}\n\n        {/* Attempts list */}\n        {attempts.length > 0 && (\n          <Card className=\"p-0 overflow-hidden\">\n            <div className=\"border-b border-slate-100 px-4 py-3 flex items-center justify-between bg-slate-50\">\n              <span className=\"text-xs font-semibold text-slate-600 w-1/3\">\n                Question\n              </span>\n              <span className=\"text-xs font-semibold text-slate-600 w-1/3\">\n                Date\n              </span>\n              <span className=\"text-xs font-semibold text-slate-600 w-1/6 text-right\">\n                Overall\n              </span>\n              <span className=\"text-xs font-semibold text-slate-600 w-1/6 text-right\">\n                Model\n              </span>\n            </div>\n\n            <ul className=\"divide-y divide-slate-100 text-sm\">\n              {attempts.map((att) => {\n                const score =\n                  att.score_json && typeof att.score_json === \"object\"\n                    ? (att.score_json as any)\n                    : (() => {\n                        try {\n                          return JSON.parse(att.score_json as any);\n                        } catch {\n                          return null;\n                        }\n                      })();\n\n                const overall =\n                  score && typeof score.overall === \"number\"\n                    ? score.overall\n                    : null;\n\n                const overallText =\n                  overall !== null ? `Band ${overall.toFixed(1)}` : \"Band —\";\n\n                const model =\n                  score && typeof score.modelUsed === \"string\"\n                    ? score.modelUsed\n                    : \"unknown\";\n\n                const dateText = att.created_at\n                  ? new Date(att.created_at).toLocaleString()\n                  : \"\";\n\n                return (\n                  <li key={att.id} className=\"hover:bg-slate-50\">\n                    <Link\n                      href={`/attempts/${att.id}`}\n                      className=\"block px-4 py-3 flex items-start justify-between\"\n                    >\n                      {/* Question */}\n                      <div className=\"w-1/3 pr-3\">\n                        <div className=\"font-medium text-slate-800 truncate\">\n                          {formatTaskLabel(att.question_id)}\n                        </div>\n                        <div className=\"text-[10px] text-slate-400 leading-tight truncate\">\n                          {att.question_id}\n                        </div>\n                        <div className=\"text-[11px] text-slate-500 truncate mt-0.5\">\n                          {att.essay_text.slice(0, 80)}\n                          {att.essay_text.length > 80 ? \"…\" : \"\"}\n                        </div>\n                      </div>\n\n                      {/* Date */}\n                      <div className=\"w-1/3 pr-3\">\n                        <div className=\"text-xs text-slate-600\">{dateText}</div>\n                      </div>\n\n                      {/* Overall */}\n                      <div className=\"w-1/6 text-right\">\n                        <span className=\"inline-flex items-center rounded-full bg-slate-100 px-2 py-1 text-xs font-semibold text-slate-800\">\n                          {overallText}\n                        </span>\n                      </div>\n\n                      {/* Model */}\n                      <div className=\"w-1/6 text-right\">\n                        <span className=\"inline-flex items-center rounded-full bg-slate-50 px-2 py-1 text-[11px] text-slate-500\">\n                          {model}\n                        </span>\n                      </div>\n                    </Link>\n                  </li>\n                );\n              })}\n            </ul>\n          </Card>\n        )}\n      </div>\n    </main>\n  );\n}\n"],"names":["useEffect","useState","useSession","Link","Card","Button","formatTaskLabel","AttemptRow","id","user_id","question_id","essay_text","score_json","created_at","AttemptsPage","data","session","userId","user","attempts","setAttempts","loading","setLoading","error","setError","loadAttempts","q","encodeURIComponent","res","fetch","json","ok","err","console","length","map","att","score","JSON","parse","overall","overallText","toFixed","model","modelUsed","dateText","Date","toLocaleString","slice"],"mappings":"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","ignoreList":[],"debugId":null}}]
}