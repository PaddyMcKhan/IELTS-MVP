{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/lordp/IELTS-MVP/src/utils/supabase/client.ts"],"sourcesContent":["// src/utils/supabase/client.ts\nimport { createClient as createSupabaseClient } from \"@supabase/supabase-js\";\n\nlet browserClient: ReturnType<typeof createSupabaseClient> | null = null;\n\nexport function createClient() {\n  if (!browserClient) {\n    const url = process.env.NEXT_PUBLIC_SUPABASE_URL;\n    const anonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n\n    if (!url || !anonKey) {\n      throw new Error(\n        \"Missing NEXT_PUBLIC_SUPABASE_URL or NEXT_PUBLIC_SUPABASE_ANON_KEY\"\n      );\n    }\n\n    browserClient = createSupabaseClient(url, anonKey);\n  }\n\n  return browserClient;\n}\n"],"names":[],"mappings":"AAAA,+BAA+B;;;;;AAC/B;;AAEA,IAAI,gBAAgE;AAE7D,SAAS;IACd,IAAI,CAAC,eAAe;QAClB,MAAM;QACN,MAAM;QAEN;;QAMA,gBAAgB,IAAA,uMAAoB,EAAC,KAAK;IAC5C;IAEA,OAAO;AACT"}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///Users/lordp/IELTS-MVP/src/components/SupabaseSessionProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useEffect, useState } from \"react\";\nimport { createClient } from \"@/utils/supabase/client\";\n\nconst SessionContext = createContext<any>(null);\n\nexport function SupabaseSessionProvider({ children }: { children: any }) {\n  const supabase = createClient();\n  const [session, setSession] = useState<any>(null);\n\n  useEffect(() => {\n    // Initial load\n    supabase.auth.getSession().then(({ data }) => {\n      setSession(data.session);\n    });\n\n    // Listen for changes (login / logout)\n    const { data: listener } = supabase.auth.onAuthStateChange(\n      (_event, session) => {\n        setSession(session);\n      }\n    );\n\n    return () => {\n      listener.subscription.unsubscribe();\n    };\n  }, [supabase]);\n\n  return (\n    <SessionContext.Provider value={{ session, supabase }}>\n      {children}\n    </SessionContext.Provider>\n  );\n}\n\nexport function useSupabaseSession() {\n  return useContext(SessionContext);\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAHA;;;;AAKA,MAAM,+BAAiB,IAAA,sNAAa,EAAM;AAEnC,SAAS,wBAAwB,EAAE,QAAQ,EAAqB;IACrE,MAAM,WAAW,IAAA,kJAAY;IAC7B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAM;IAE5C,IAAA,kNAAS,EAAC;QACR,eAAe;QACf,SAAS,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,EAAE,IAAI,EAAE;YACvC,WAAW,KAAK,OAAO;QACzB;QAEA,sCAAsC;QACtC,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,SAAS,IAAI,CAAC,iBAAiB,CACxD,CAAC,QAAQ;YACP,WAAW;QACb;QAGF,OAAO;YACL,SAAS,YAAY,CAAC,WAAW;QACnC;IACF,GAAG;QAAC;KAAS;IAEb,qBACE,8OAAC,eAAe,QAAQ;QAAC,OAAO;YAAE;YAAS;QAAS;kBACjD;;;;;;AAGP;AAEO,SAAS;IACd,OAAO,IAAA,mNAAU,EAAC;AACpB"}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["file:///Users/lordp/IELTS-MVP/src/components/SiteHeader.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { useSupabaseSession } from \"@/components/SupabaseSessionProvider\";\n\nexport function SiteHeader() {\n  const { session, supabase } = useSupabaseSession();\n  const email = session?.user?.email as string | undefined;\n\n  async function handleLogout() {\n    await supabase.auth.signOut();\n    window.location.href = \"/\";\n  }\n\n  return (\n    <header className=\"w-full border-b border-slate-200 bg-white\">\n      <div className=\"mx-auto flex max-w-3xl items-center justify-between px-4 py-3\">\n        {/* Logo / brand */}\n        <Link href=\"/\" className=\"flex items-center gap-2\">\n          <span className=\"font-semibold text-slate-900\">\n            IELTS Writing Practice\n          </span>\n        </Link>\n\n        {/* Nav + Auth */}\n        <div className=\"flex items-center gap-4\">\n          <nav className=\"flex items-center gap-3 text-xs sm:text-sm\">\n            <Link\n              href=\"/\"\n              className=\"text-slate-600 hover:text-slate-900\"\n            >\n              Practice\n            </Link>\n            <Link\n              href=\"/attempts\"\n              className=\"text-slate-600 hover:text-slate-900\"\n            >\n              My attempts\n            </Link>\n            <Link\n              href=\"/progress\"\n              className=\"text-slate-600 hover:text-slate-900\"\n            >\n              Progress\n            </Link>\n            <Link\n              href=\"/profile\"\n              className=\"text-slate-600 hover:text-slate-900\"\n            >\n              Profile\n            </Link>\n          </nav>\n\n          {/* Auth (Supabase) */}\n          {session ? (\n            <div className=\"flex items-center gap-3\">\n              {email && (\n                <span className=\"hidden text-xs text-slate-500 sm:inline\">\n                  Signed in as <span className=\"font-medium\">{email}</span>\n                </span>\n              )}\n              <button\n                onClick={handleLogout}\n                className=\"rounded-md border border-slate-300 px-3 py-1 text-xs sm:text-sm\"\n              >\n                Logout\n              </button>\n            </div>\n          ) : (\n            <Link\n              href=\"/auth/login\"\n              className=\"rounded-md bg-slate-900 px-3 py-1 text-xs sm:text-sm text-white\"\n            >\n              Sign in\n            </Link>\n          )}\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKO,SAAS;IACd,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,IAAA,mKAAkB;IAChD,MAAM,QAAQ,SAAS,MAAM;IAE7B,eAAe;QACb,MAAM,SAAS,IAAI,CAAC,OAAO;QAC3B,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC,uKAAI;oBAAC,MAAK;oBAAI,WAAU;8BACvB,cAAA,8OAAC;wBAAK,WAAU;kCAA+B;;;;;;;;;;;8BAMjD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,uKAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;8CAGD,8OAAC,uKAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;8CAGD,8OAAC,uKAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;8CAGD,8OAAC,uKAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;;;;;;;wBAMF,wBACC,8OAAC;4BAAI,WAAU;;gCACZ,uBACC,8OAAC;oCAAK,WAAU;;wCAA0C;sDAC3C,8OAAC;4CAAK,WAAU;sDAAe;;;;;;;;;;;;8CAGhD,8OAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;;;;;iDAKH,8OAAC,uKAAI;4BACH,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAQb"}}]
}